<!-- Updated sub-final.ejs -->

<!DOCTYPE html>
<html>
<head>
    <title>Theme Toggle and Accordion</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script src="script.js"></script>
</head>
<body>
    <div id="theme-toggle">
        <button id="toggle-button">Toggle Theme</button>
    </div>

    <div class="accordion">
        <div class="accordion-item">
            <h2 class="accordion-header">Section 1</h2>
            <div class="accordion-body">
                <p>Content for section 1.</p>
            </div>
        </div>
        <div class="accordion-item">
            <h2 class="accordion-header">Section 2</h2>
            <div class="accordion-body">
                <p>Content for section 2.</p>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('toggle-button').addEventListener('click', function() {
            document.body.classList.toggle('dark-theme');
        });

        // Accordion functionality
        document.querySelectorAll('.accordion-header').forEach(header => {
            header.addEventListener('click', function() {
                const body = header.nextElementSibling;
                if (body.style.display === "block") {
                    body.style.display = "none";
                } else {
                    body.style.display = "block";
                }
            });
        });

        // Error handling
        window.addEventListener('error', function(event) {
            console.error('Error occurred:', event.message);
            alert('An error has occurred: ' + event.message);
        });
    </script>
</body>
</html>
